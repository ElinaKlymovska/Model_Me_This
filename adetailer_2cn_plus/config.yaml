# ADetailer 2CN Plus - Enhanced Configuration
pipeline:
  detectors:
    - name: mediapipe
      confidence_threshold: 0.7
      detection_confidence: 0.7
      model_selection: 0
      with_landmarks: true
      max_faces: 5
    - name: opencv
      confidence_threshold: 0.3
      max_faces: 5
      scale_factor: 1.05
      min_neighbors: 3
  enable_fallback: true
  min_faces_threshold: 1

# A1111 Integration
a1111_base_url: "http://127.0.0.1:7860"

# Performance
use_gpu: true
num_workers: 4

# Paths
input_dir: "data/samples"
output_dir: "output"

# Logging
log_level: INFO

# Facial Enhancement System
facial_enhancement:
  # Contouring and makeup application
  contouring:
    enabled: true
    intensity: 0.7  # Overall contouring intensity (0.0 - 1.0)
    blend_strength: 0.5  # How strongly to blend with original (0.0 - 1.0)
    
  # Expression lines and aging
  expression_lines:
    enabled: true
    neutral_intensity: 0.3  # Intensity for neutral expressions (0.0 - 1.0)
    smile_intensity: 0.6  # Intensity for smiling expressions (0.0 - 1.0)
    
  # Person-specific settings
  person_profiles:
    massy:
      contour_strength: 0.8  # Stronger contouring for Massy
      expression_strength: 0.5
      lip_enhancement:
        cupids_bow_intensity: 0.7  # Cupid's bow definition
        lip_volume_boost: 0.6  # Lower lip volume enhancement
        corner_definition: 0.5  # Lip corner shadows
        perioral_wrinkles: 0.4  # Wrinkles around mouth area
        color_intensity: 0.8  # Lip color enhancement
    orbi:
      contour_strength: 0.7  # Moderate contouring for Orbi  
      expression_strength: 0.6
      lip_enhancement:
        cupids_bow_intensity: 0.6  # Subtle Cupid's bow
        lip_volume_boost: 0.5  # Moderate lip volume
        corner_definition: 0.4  # Light corner shadows
        perioral_wrinkles: 0.3  # Minimal perioral lines
        color_intensity: 0.6  # Natural lip color
    yana:
      contour_strength: 0.75  # Balanced contouring for Yana
      expression_strength: 0.55
      lip_enhancement:
        cupids_bow_intensity: 0.65  # Balanced Cupid's bow
        lip_volume_boost: 0.55  # Natural lip volume
        corner_definition: 0.45  # Moderate corner definition
        perioral_wrinkles: 0.35  # Light perioral wrinkles
        color_intensity: 0.7  # Enhanced but natural lip color