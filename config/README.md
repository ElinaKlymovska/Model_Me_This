# Configuration Directory

–¶—è –ø–∞–ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è Portrait Enhancement Pipeline.

## üìÅ –§–∞–π–ª–∏

### `config.yaml`
**–û—Å–Ω–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É**
- –ó–∞–≥–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- WebUI –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- ADetailer 2CN Plus –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –æ–±—Ä–æ–±–∫–∏
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–µ—Ç–µ–∫—Ü—ñ—ó –æ–±–ª–∏—á—á—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
- ControlNet –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- vast.ai —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- Docker –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- –õ–æ–≥—É–≤–∞–Ω–Ω—è

### `models.yaml`
**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –º–æ–¥–µ–ª–µ–π**
- Stable Diffusion –º–æ–¥–µ–ª—ñ
- ControlNet –º–æ–¥–µ–ª—ñ
- ADetailer –º–æ–¥–µ–ª—ñ
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- –®–ª—è—Ö–∏ –¥–æ –º–æ–¥–µ–ª–µ–π

## üîß –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```python
import yaml
from pathlib import Path

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
with open('config/config.yaml', 'r') as f:
    config = yaml.safe_load(f)

# –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –º–æ–¥–µ–ª–µ–π
with open('config/models.yaml', 'r') as f:
    models_config = yaml.safe_load(f)
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å
```python
# WebUI –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
webui_host = config['webui']['host']
webui_port = config['webui']['port']

# ADetailer –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
detectors = config['adetailer_2cn']['detectors']
confidence = config['adetailer_2cn']['confidence_threshold']

# –ú–æ–¥–µ–ª—ñ
sd_models = models_config['stable_diffusion']['models']
cn_models = models_config['controlnet']['models']
```

## üìù –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
1. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π .yaml —Ñ–∞–π–ª
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É
3. –ó–º—ñ–Ω–∏ –≤—Å—Ç—É–ø–ª—è—Ç—å –≤ —Å–∏–ª—É

### –ü–µ—Ä–µ–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
–î–µ—è–∫—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
```bash
export WEBUI_HOST="0.0.0.0"
export WEBUI_PORT="7860"
export DEBUG="true"
```

## üîí –ë–µ–∑–ø–µ–∫–∞

- **–ù–µ –∫–æ–º—ñ—Ç—å—Ç–µ** —Ñ–∞–π–ª–∏ –∑ API –∫–ª—é—á–∞–º–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.env` —Ñ–∞–π–ª–∏ –¥–ª—è —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö
- –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

## üìö –ü—Ä–∏–∫–ª–∞–¥–∏

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```yaml
# config/custom.yaml
custom:
  my_setting: "value"
  my_list: [1, 2, 3]
  my_dict:
    key: "value"
```

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```python
from pydantic import BaseModel, Field

class WebUIConfig(BaseModel):
    host: str = Field(default="127.0.0.1")
    port: int = Field(default=7860, ge=1, le=65535)
    timeout: int = Field(default=300, ge=1)
```
